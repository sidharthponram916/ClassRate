(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-283c9ba5"],{4517:function(e,t,a){"use strict";a("bc03")},bc03:function(e,t,a){},db47:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"p-2 m-2 border-b-4 border-black text-white w-1/2 bg-transparent text-2xl focus:outline-none mb-10",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"p-2 m-2 border-b-4 border-black text-white w-1/2 bg-transparent text-2xl focus:outline-none mb-10",attrs:{type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),a("br"),a("button",{staticClass:"p-2 m-2 bg-blue-800 rounded text-white text-2xl",on:{click:function(t){return e.login()}}},[e._v(" Sign In ")]),e.err?a("h1",{staticClass:"text-red-600 bg-gray-200 mt-2 p-2 m-2 rounded w-1/2 m-auto"},[e._v(" "+e._s(e.err)+" ")]):e._e(),e._m(1),a("button",[a("div",{ref:"googleLoginBtn"})]),a("p",{staticClass:"text-white text-xl mt-2 mb-2"},[a("i",{staticClass:"fa-sharp fa-solid fa-circle-info"}),e._v(" Forgot your password? Click "),a("a",{staticClass:"text-blue-200",on:{click:function(t){return e.sendPasswordEmail()}}},[e._v("here")]),e._v(" to send a password reset email. ")])])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("h1",{staticClass:"p-2 m-2 text-white text-7xl mt-7 mb-7"},[e._v(" Class"),a("span",{staticClass:"text-yellow-300"},[e._v("Rate")]),a("span",{staticClass:"text-2xl"},[e._v(".org")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",{staticClass:"text-white text-xl mt-5 mb-2"},[a("i",{staticClass:"fa-sharp fa-solid fa-circle-info"}),e._v(" Don't have an account? Sign up "),a("a",{staticClass:"text-blue-200",attrs:{href:"/signup"}},[e._v("here ")]),e._v(" or sign in with these providers. "),a("br")])}],n=a("c7eb"),o=a("1da1"),i=(a("ac1f"),a("5319"),a("1232")),c={data:function(){return{user:{},err:""}},mounted:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.title="Sign In - Classrate.org",window.google.accounts.id.initialize({client_id:"199941469614-tcdpve2r36ljnm2o504ptn992udrj75e.apps.googleusercontent.com",callback:e.authenticateWithGoogle,auto_select:!1}),window.google.accounts.id.renderButton(e.$refs.googleLoginBtn,{text:"signin_with",size:"large",theme:"outline",logo_alignment:"left",auto_select:!0});case 3:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/users/login",{username:e.user.username,password:e.user.password});case 3:a=t.sent,s=a.data,e.$store.commit("logIn"),e.$store.commit("setUserData",s.user),localStorage.setItem("token",s.token),e.$http.defaults.headers.common["Authorization"]=localStorage.getItem("token"),location.replace("/view/stream"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),400!=t.t0.response.status&&404!=t.t0.response.status||(e.err="Invalid Authentication. Your username or password may be incorrect!");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},sendPasswordEmail:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var a;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=prompt("Enter your email to reset your password."),t.next=3,e.$http.post("/users/email_preset",{email:a});case 3:case"end":return t.stop()}}),t)})))()},authenticateWithGoogle:function(e){var t=this;return Object(o["a"])(Object(n["a"])().mark((function a(){var s,r,o;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,s=Object(i["a"])(e.credential),a.next=4,t.$http.post("/users/googleauth",s);case 4:r=a.sent,o=r.data,t.$store.commit("logIn"),t.$store.commit("setUserdata",o.user),localStorage.setItem("token",o.token),t.$http.defaults.headers.common["Authorization"]=o.token,location.replace("/view/stream"),a.next=16;break;case 13:a.prev=13,a.t0=a["catch"](0),console.log(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[0,13]])})))()}}},u=c,l=(a("4517"),a("2877")),p=Object(l["a"])(u,s,r,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-283c9ba5.0ce9ffaa.js.map