(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e7a88e42"],{"083a":function(e,t,r){"use strict";var a=r("0d51"),s=TypeError;e.exports=function(e,t){if(!delete e[t])throw s("Cannot delete property "+a(t)+" of "+a(e))}},3511:function(e,t){var r=TypeError,a=9007199254740991;e.exports=function(e){if(e>a)throw r("Maximum allowed index exceeded");return e}},"4de4":function(e,t,r){"use strict";var a=r("23e7"),s=r("b727").filter,n=r("1dde"),o=n("filter");a({target:"Array",proto:!0,forced:!o},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"59ce":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"p-2 m-2 bg-white text-left w-11/12"},[r("h1",{staticClass:"text-left p-2 text-black text-4xl"},[e._v("My Profile")]),e._m(0),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"p-2 m-2 text-black border-2 w-3/4 text-2xl",attrs:{type:"text",disabled:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),r("h1",{staticClass:"text-left p-2 text-black text-2xl"},[e._v("Email")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"p-2 m-2 text-black border-2 w-3/4 text-2xl",attrs:{type:"text"},domProps:{value:e.user.email},on:{input:function(t){t.target.composing||e.$set(e.user,"email",t.target.value)}}}),r("h1",{staticClass:"text-left p-2 text-black text-2xl"},[e._v("School")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.school,expression:"user.school"}],staticClass:"p-2 m-2 text-black border-2 w-3/4 text-2xl",attrs:{type:"text"},domProps:{value:e.user.school},on:{input:function(t){t.target.composing||e.$set(e.user,"school",t.target.value)}}}),e._m(1),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"p-2 m-2 text-black border-2 w-3/4 text-2xl",attrs:{type:"password",placeholder:"Enter a school",disabled:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("br"),r("button",{staticClass:"p-2 m-2 bg-green-500 text-white text-2xl rounded",attrs:{type:"button"},on:{click:function(t){return e.update()}}},[e._v("Update")]),r("h1",{staticClass:"text-left p-2 text-black text-3xl"},[e._v("Manage Reviews")]),r("div",{staticClass:"flex grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 overflow-x-auto text-black"},e._l(e.reviews,(function(t){return r("div",{key:t._id,staticClass:"p-2 m-2 border-2 rounded"},[r("h1",{staticClass:"text-xl"},[e._v(e._s(t.course))]),r("h1",{staticClass:"text-sm"},[e._v(e._s(t.school))]),r("button",{staticClass:"my-2 bg-blue-600 p-2 rounded text-white mr-2"},[r("a",{attrs:{href:"/reviews/"+t._id}},[e._v(" View ")])]),r("button",{staticClass:"my-2 bg-red-600 p-2 rounded text-white",on:{click:function(r){return e.deleteReview(t._id)}}},[e._v("Delete")])])})),0)])},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"text-left p-2 text-black text-2xl"},[e._v("Username "),r("br"),r("span",{staticClass:"text-sm"},[e._v("Unfortunately, we cannot change your username at the moment. Please look back for future updates.")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"text-left p-2 text-black text-2xl"},[e._v("Password "),r("br"),e._v(" "),r("span",{staticClass:"text-sm"},[e._v("Unfortunately, we cannot change your password at the moment. Please look back for future updates.")])])}],n=r("c7eb"),o=r("1da1"),c=(r("4de4"),r("d3b7"),r("7db0"),r("b0c0"),r("a434"),{data:function(){return{user:{},reviews:{}}},mounted:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){var r,a,s;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/users/current");case 2:return r=t.sent,a=r.data,e.user=a,t.next=7,e.$http.get("/reviews/all");case 7:s=t.sent,s=s.data.filter((function(e){return e.username===a.username})),e.reviews=s;case 10:case"end":return t.stop()}}),t)})))()},methods:{update:function(){var e=this;return Object(o["a"])(Object(n["a"])().mark((function t(){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.put("/users/update",e.user);case 3:location.reload(),t.next=10;break;case 6:t.prev=6,t.t0=t["catch"](0),alert("An error has occured when updating!"),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})))()},deleteReview:function(e){var t=this;return Object(o["a"])(Object(n["a"])().mark((function r(){var a,s,o,c,i,u,l,d,p;return Object(n["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,t.$http.delete("/reviews/delete/".concat(e));case 3:return a=r.sent,s=a.data,o=s,r.next=8,t.$http.get("/courses/all");case 8:return c=r.sent,i=c.data.find((function(e){return e.name===o.course&&e.school_id===o.school_id})),u=i.ratings.find((function(e){return e.data._id===o._id})),i.ratings.splice(i.ratings.indexOf(u),1),r.next=14,t.$http.put("/courses/update/".concat(i._id),i);case 14:return r.next=16,t.$http.get("/teachers/all");case 16:return l=r.sent,d=l.data.find((function(e){return e.name===o.instructor})),p=d.ratings.find((function(e){return e._id===o._id})),d.ratings.splice(d.ratings.indexOf(p),1),r.next=22,t.$http.put("/teachers/update/".concat(d._id),d);case 22:location.reload(),r.next=29;break;case 25:r.prev=25,r.t0=r["catch"](0),alert("An error has occured when deleting!"),console.log(r.t0.message);case 29:case"end":return r.stop()}}),r,null,[[0,25]])})))()}}}),i=c,u=(r("846b"),r("2877")),l=Object(u["a"])(i,a,s,!1,null,null,null);t["default"]=l.exports},"7fb8":function(e,t,r){},"846b":function(e,t,r){"use strict";r("7fb8")},a434:function(e,t,r){"use strict";var a=r("23e7"),s=r("7b0b"),n=r("23cb"),o=r("5926"),c=r("07fa"),i=r("3511"),u=r("65f0"),l=r("8418"),d=r("083a"),p=r("1dde"),f=p("splice"),x=Math.max,m=Math.min;a({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var r,a,p,f,v,h,b=s(this),w=c(b),g=n(e,w),_=arguments.length;for(0===_?r=a=0:1===_?(r=0,a=w-g):(r=_-2,a=m(x(o(t),0),w-g)),i(w+r-a),p=u(b,a),f=0;f<a;f++)v=g+f,v in b&&l(p,f,b[v]);if(p.length=a,r<a){for(f=g;f<w-a;f++)v=f+a,h=f+r,v in b?b[h]=b[v]:d(b,h);for(f=w;f>w-a+r;f--)d(b,f-1)}else if(r>a)for(f=w-a;f>g;f--)v=f+a-1,h=f+r-1,v in b?b[h]=b[v]:d(b,h);for(f=0;f<r;f++)b[f+g]=arguments[f+2];return b.length=w-a+r,p}})}}]);
//# sourceMappingURL=chunk-e7a88e42.de77879a.js.map