(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-283c9ba5"],{4517:function(e,t,r){"use strict";r("bc03")},bc03:function(e,t,r){},db47:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("form",{attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[e._m(0),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"p-2 m-2 border-b-4 border-black text-white w-1/2 bg-transparent text-2xl focus:outline-none mb-10",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"p-2 m-2 border-b-4 border-black text-white w-1/2 bg-transparent text-2xl focus:outline-none mb-10",attrs:{type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),r("br"),r("button",{staticClass:"p-2 m-2 bg-blue-800 rounded text-white text-2xl",on:{click:function(t){return e.login()}}},[e._v(" Sign In ")]),e.err?r("h1",{staticClass:"text-red-600 bg-gray-200 mt-2 p-2 m-2 rounded w-1/2 m-auto"},[e._v(" "+e._s(e.err)+" ")]):e._e(),e._m(1),r("button",[r("div",{ref:"googleLoginBtn"})]),r("p",{staticClass:"text-white text-xl mt-2 mb-2"},[r("i",{staticClass:"fa-sharp fa-solid fa-circle-info"}),e._v(" Forgot your password? Click "),r("a",{staticClass:"text-blue-200",on:{click:function(t){return e.sendPasswordEmail()}}},[e._v("here")]),e._v(" to send a password reset email. ")])])])},n=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h1",{staticClass:"p-2 m-2 text-white text-7xl mt-7 mb-7"},[e._v(" Class"),r("span",{staticClass:"text-yellow-300"},[e._v("Rate")]),r("span",{staticClass:"text-2xl"},[e._v(".org")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",{staticClass:"text-white text-xl mt-5 mb-2"},[r("i",{staticClass:"fa-sharp fa-solid fa-circle-info"}),e._v(" Don't have an account? Sign up "),r("a",{staticClass:"text-blue-200",attrs:{href:"/signup"}},[e._v("here ")]),e._v(" or sign in with these providers. "),r("br")])}],o=r("c7eb"),s=r("1da1");r("ac1f"),r("5319");function i(e){this.message=e}i.prototype=new Error,i.prototype.name="InvalidCharacterError";var c="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new i("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,a,n=0,o=0,s="";a=t.charAt(o++);~a&&(r=n%4?64*r+a:a,n++%4)?s+=String.fromCharCode(255&r>>(-2*n&6)):0)a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a);return s};function u(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(c(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return c(t)}}function l(e){this.message=e}function p(e,t){if("string"!=typeof e)throw new l("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(u(e.split(".")[r]))}catch(e){throw new l("Invalid token specified: "+e.message)}}l.prototype=new Error,l.prototype.name="InvalidTokenError";var d=p,m={data:function(){return{user:{},err:""}},mounted:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:window.google.accounts.id.initialize({client_id:"199941469614-tcdpve2r36ljnm2o504ptn992udrj75e.apps.googleusercontent.com",callback:e.authenticateWithGoogle,auto_select:!1}),window.google.accounts.id.renderButton(e.$refs.googleLoginBtn,{text:"signin_with",size:"large",theme:"outline",logo_alignment:"left",auto_select:!0});case 2:case"end":return t.stop()}}),t)})))()},methods:{login:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r,a;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/users/login",{username:e.user.username,password:e.user.password});case 3:r=t.sent,a=r.data,e.$store.commit("logIn"),e.$store.commit("setUserData",a.user),localStorage.setItem("token",a.token),e.$http.defaults.headers.common["Authorization"]=localStorage.getItem("token"),location.replace("/view/stream"),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),400!=t.t0.response.status&&404!=t.t0.response.status||(e.err="Invalid Authentication. Your username or password may be incorrect!");case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},sendPasswordEmail:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=prompt("Enter your email to reset your password."),t.next=3,e.$http.post("/users/email_preset",{email:r});case 3:case"end":return t.stop()}}),t)})))()},authenticateWithGoogle:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function r(){var a,n,s;return Object(o["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,a=d(e.credential),r.next=4,t.$http.post("/users/googleauth",a);case 4:n=r.sent,s=n.data,t.$store.commit("logIn"),t.$store.commit("setUserdata",s.user),localStorage.setItem("token",s.token),t.$http.defaults.headers.common["Authorization"]=s.token,location.replace("/view/stream"),r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](0),console.log(r.t0.message);case 16:case"end":return r.stop()}}),r,null,[[0,13]])})))()}}},h=m,f=(r("4517"),r("2877")),w=Object(f["a"])(h,a,n,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-283c9ba5.1bfff8e1.js.map